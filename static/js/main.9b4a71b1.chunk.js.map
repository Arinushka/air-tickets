{"version":3,"sources":["components/Filters/Filters.js","components/Trip/Trip.js","components/Ticket/Ticket.js","components/Tickets/Tickets.js","components/Main/Main.js","utils/constans.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Filters","props","React","useState","valueStart","setValueStart","valueEnd","setValueEnd","sortref","useRef","sort","filterByAscendingPrice","filterByDescendingPrice","filterByTravelTime","sortByPrice","filterByPrice","handleSelectedAirlines","e","target","checked","addAirline","id","deleteAirline","handleSort","Array","from","current","childNodes","forEach","el","useEffect","timeout","setTimeout","clearTimeout","sortByAirlines","airlines","handleAllCompanies","filteredTickets","className","ref","onChange","type","name","sortByOneDirection","sortByDirect","value","placeholder","allCompanies","map","company","disabled","active","caption","price","Trip","trip","duration","segments","departureCity","departureAirport","departureDate","airline","arrivalCity","arrivalAirport","arrivalDate","isTransfer","length","handleTime","newDate","Date","toLocaleDateString","year","month","day","weekday","hour","minute","time","split","date","slice","join","startDate","endDate","exp","handleBrokenDepartureCity","uid","handleBrokenArrivalCity","Math","trunc","Ticket","ticket","flight","carrier","legs","console","log","total","amount","currency","Tickets","ticketsCount","setTicketsCount","tickets","flightToken","onClick","state","Main","companies","App","setTickets","setFilteredTickets","setAirlines","filteredTicketsByAirline","setFilteredTicketsByAirline","setAllCompanies","flights","result","returnDateAirline","a","b","sortOneDirection","filter","sortDirect","Number","sortTickets","includes","foundCompanies","Set","activeCompanies","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b4a71b1.chunk.js","sourcesContent":["import './Filters.css';\r\nimport React from 'react';\r\n\r\nexport const Filters = (props) => {\r\n\tconst [valueStart, setValueStart] = React.useState();\r\n\tconst [valueEnd, setValueEnd] = React.useState();\r\n\tconst sortref = React.useRef();\r\n\r\n\tconst sort = { \"filters-for-price-up\": props.filterByAscendingPrice, \"filters-for-price-down\": props.filterByDescendingPrice, \"filters-for-time\": props.filterByTravelTime };\r\n\r\n\t\r\n\tconst handleValueStart = (e) => {\r\n\t\tsetValueStart(e.target.value)\r\n\t}\r\n\r\n\tconst handleValueEnd = (e) => {\r\n\t\tsetValueEnd(e.target.value)\r\n\t}\r\n\r\n\tconst sortByPrice = () => {\r\n\t\tprops.filterByPrice(valueStart, valueEnd)\r\n\t}\r\n\r\n\tconst handleSelectedAirlines = (e) => {\r\n\t\tif (e.target.checked) {\r\n\t\t\tprops.addAirline(e.target.id)\r\n\t\t} else {\r\n\t\t\tprops.deleteAirline(e.target.id)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSort = () => {\r\n\t\tArray.from(sortref.current.childNodes).forEach((el) => {\r\n\t\t\tif(el.childNodes[0].checked){\r\n\t\t\t\tsort[el.childNodes[0].id]()\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (valueStart && valueEnd) {\r\n\t\t\tconst timeout = setTimeout(sortByPrice, 500);\r\n\t\t\treturn () => clearTimeout(timeout)\r\n\t\t}\r\n\t}, [valueStart, valueEnd])\r\n\r\nReact.useEffect(()=>{\r\n\tprops.sortByAirlines()\r\n}, [props.airlines])\r\n\r\nReact.useEffect(()=>{\r\n\tprops.handleAllCompanies()\r\n}, [props.filteredTickets])\r\n\r\nReact.useEffect(()=>{\r\n\tsetTimeout(handleSort, 700);\r\n}, [props.airlines, props.filteredTickets])\r\n\r\n\r\n\treturn (\r\n\t\t<fieldset className=\"filters\">\r\n\t\t\t<h3>Сортировать</h3>\r\n\t\t\t<div ref={sortref}>\r\n\t\t\t\t<p className=\"filters__option\"><input onChange={props.filterByAscendingPrice} className=\"filters__input\" type=\"radio\" name=\"filters-for-price-and-time\" id=\"filters-for-price-up\" /> - по возрастанию цены</p>\r\n\t\t\t\t<p className=\"filters__option\"><input onChange={props.filterByDescendingPrice} className=\"filters__input\" type=\"radio\" name=\"filters-for-price-and-time\" id=\"filters-for-price-down\" /> - по убыванию цены</p>\r\n\t\t\t\t<p className=\"filters__option\"><input onChange={props.filterByTravelTime} className=\"filters__input\" type=\"radio\" name=\"filters-for-price-and-time\" id=\"filters-for-time\" /> - по времени в пути</p>\r\n\t\t\t</div>\r\n\t\t\t<h3>Фильтровать</h3>\r\n\t\t\t<p className=\"filters__option\"><input onChange={props.sortByOneDirection} className=\"filters__input\" type=\"radio\" name=\"filters-for-transfer\" /> - 1 пересадка</p>\r\n\t\t\t<p className=\"filters__option\"><input onChange={props.sortByDirect} className=\"filters__input\" type=\"radio\" name=\"filters-for-transfer\" /> - без пересадок</p>\r\n\t\t\t<h3>Цена</h3>\r\n\t\t\t<div>\r\n\t\t\t\t<label>От </label>\r\n\t\t\t\t<input value={valueStart} onChange={handleValueStart} className=\"filters__input filters__input_for_space\" type=\"number\" name=\"filters-for-airline\" placeholder=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<label>До </label>\r\n\t\t\t\t<input value={valueEnd} onChange={handleValueEnd} className=\"filters__input\" type=\"number\" name=\"filters-for-airline\" placeholder=\"10000\" />\r\n\t\t\t</div>\r\n\t\t\t<h3>Авиакомпании</h3>\r\n\t\t\t{props.allCompanies.map((company) => {\r\n\t\t\t\treturn <div className=\"filters__wrapper\"><p className=\"filters__option filters__option_for_reduction\"><input disabled={company.active} id={company.caption} onChange={handleSelectedAirlines} className=\"filters__input\" type=\"checkbox\" name=\"filters-for-airline\" />{` ${company.caption}`}</p><span>от {company.price}</span></div>\r\n\t\t\t})}\r\n\t\t</fieldset>\r\n\t);\r\n}","import './Trip.css';\r\n\r\nexport const Trip = (props) => {\r\n\r\n  const { duration, segments } = props.trip;\r\n  const { departureCity, departureAirport, departureDate, airline } = segments[0];\r\n  const { arrivalCity, arrivalAirport, arrivalDate } = segments[1] || segments[0];\r\n  const isTransfer = segments.length > 1\r\n\r\n  const handleBrokenDepartureCity = () => {\r\n    try { return departureCity.caption }\r\n    catch (exp) { return 'Данные отсутствуют' }\r\n  }\r\n\r\n  const handleBrokenArrivalCity = () => {\r\n    try { return arrivalCity.caption }\r\n    catch (exp) { return 'Данные отсутствуют' }\r\n  }\r\n\r\n  const handleDuration = () => {\r\n    if (duration <= 60) {\r\n      return duration + ' мин'\r\n    }\r\n    const hours = Math.trunc(duration / 60);\r\n    const minutes = duration % 60;\r\n    return hours + ' ч ' + minutes + ' мин';\r\n  }\r\n\r\n  const handleTime = (value) => {\r\n    const newDate = new Date(value).toLocaleDateString('ru', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      weekday: 'short',\r\n      hour: 'numeric',\r\n      minute: 'numeric'\r\n    })\r\n    const time = newDate.split(' ')[5];\r\n    const date = newDate.split(' ').slice(1, 3).join(' ');\r\n    const day = newDate.split(', ')[0];\r\n    return { time, date, day }\r\n  }\r\n  const startDate = handleTime(departureDate);\r\n  const endDate = handleTime(arrivalDate);\r\n\r\n\r\n  return (\r\n    <div className=\"trip\">\r\n      <h3 className=\"trip__direction\">{`${handleBrokenDepartureCity()}, ${departureAirport.caption} `}<span className=\"trip__span\">({departureAirport.uid}) &#8594; </span>\r\n        {`${handleBrokenArrivalCity()}, ${arrivalAirport.caption}`} <span className=\"trip__span\">({arrivalAirport.uid})</span></h3>\r\n      <div className=\"trip__wrapper\">\r\n        <p className=\"trip__time\">{startDate.time} <span className=\"trip__span\">{`${startDate.date} ${startDate.day}`}</span></p>\r\n        <p className=\"trip__time\">&#128340; {handleDuration()}</p>\r\n        <p className=\"trip__time\"><span className=\"trip__span\">{`${endDate.date} ${endDate.day} `} </span> {endDate.time}</p>\r\n      </div>\r\n      <div className=\"trip__wrap\">\r\n        <hr />\r\n        <p className=\"trip__transfer\">{isTransfer && '1 пересадка'}</p>\r\n      </div>\r\n      <p className=\"trip__carrier\">{`Рейс выполняет: ${airline.caption}`}</p>\r\n\r\n    </div>\r\n  );\r\n}","import './Ticket.css';\r\nimport { Trip } from './../Trip/Trip';\r\n\r\nexport const Ticket = (props) => {\r\nconst {carrier, price, legs} = props.ticket.flight;\r\nconsole.log(legs)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"ticket\">\r\n\t\t\t\t<div className=\"ticket__header\">\r\n\t\t\t\t\t<div className=\"ticket__container\">\r\n\t\t\t\t\t\t<p className=\"ticket__text\">{carrier.caption}</p>\r\n\t\t\t\t\t\t<p className=\"ticket__text\">{price.total.amount} {price.total.currency}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"ticket__text\">Стоимость для одного взрослого пассажира</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Trip\r\n\t\t\ttrip={legs[0]}/>\r\n\t\t\t<div className=\"ticket__line\"></div>\r\n\t\t\t<Trip\r\n\t\t\ttrip={legs[1]}/>\r\n\t\t\t<button className=\"ticket__button\">выбрать</button>\r\n\t\t</div>\r\n\t);\r\n}","import './Tickets.css';\r\nimport { Ticket } from './../Ticket/Ticket';\r\nimport React from 'react';\r\n\r\nexport const Tickets = (props) => {\r\n\r\n\tconst [ticketsCount, setTicketsCount] = React.useState(2);\r\n\r\n\tconst handlerTicketsCount = () => {\r\n\t\tsetTicketsCount((state)=> state + 2)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"tickets\">\r\n\t\t\t{props.tickets.slice(0,ticketsCount).map((ticket) => (\r\n\t\t\t\t<Ticket\r\n\t\t\t\t\tkey={ticket.flightToken}\r\n\t\t\t\t\tticket={ticket}\r\n\t\t\t\t\tfilterByAscendingPrice={props.filterByAscendingPrice} />\r\n\t\t\t))}\r\n\r\n\t\t{ticketsCount<props.tickets.length && <button type=\"button\" onClick={handlerTicketsCount} className=\"tickets__button\">Показать еще</button>}\r\n\t\t</div>\r\n\t);\r\n}","import './Main.css';\r\nimport { Filters } from './../Filters/Filters';\r\nimport { Tickets } from './../Tickets/Tickets';\r\n\r\nexport const Main = (props) => {\r\n\treturn (\r\n\t\t<main className=\"main\">\r\n\t\t\t<Filters\r\n\t\t\t\tfilterByAscendingPrice={props.filterByAscendingPrice}\r\n\t\t\t\tfilterByDescendingPrice={props.filterByDescendingPrice}\r\n\t\t\t\tfilterByTravelTime={props.filterByTravelTime}\r\n\t\t\t\tsortByOneDirection={props.sortByOneDirection}\r\n\t\t\t\tsortByDirect={props.sortByDirect}\r\n\t\t\t\tfilterByPrice={props.filterByPrice}\r\n\t\t\t\taddAirline={props.addAirline}\r\n\t\t\t\tdeleteAirline={props.deleteAirline}\r\n\t\t\t\tsortByAirlines={props.sortByAirlines}\r\n\t\t\t\tairlines={props.airlines}\r\n\t\t\t\tfilteredTickets={props.filteredTickets}\r\n\t\t\t\tallCompanies={props.allCompanies}\r\n\t\t\t\thandleAllCompanies={props.handleAllCompanies} />\r\n\t\t\t<Tickets\r\n\t\t\t\ttickets={props.tickets} />\r\n\t\t</main>\r\n\t);\r\n}\r\n","export const companies = [\r\n  {caption: 'LOT Polish Airlines', price: 21049, active: false},\r\n  {caption: 'Air Baltic Corporation A/S', price: 21909, active: false},\r\n  {caption: 'Air France', price: 23163, active: false},\r\n  {caption: 'KLM', price: 24114, active: false},\r\n  {caption: 'Brussels Airlines', price: 25491, active: false},\r\n  {caption: 'TURK HAVA YOLLARI A.O.', price: 31587, active: false},\r\n  {caption: 'Аэрофлот - российские авиалинии', price: 31733, active: false},\r\n  {caption: 'Alitalia Societa Aerea Italiana', price: 32313, active: false},\r\n  {caption: 'Finnair Oyj', price: 47640, active: false},\r\n  {caption: 'Pegasus Hava Tasimaciligi A.S.', price: 47812, active: false}\r\n]","import { Main } from './../Main/Main';\nimport flights from './../../utils/flights.json';\nimport { companies } from '../../utils/constans';\nimport React from 'react';\n\nexport const App = () => {\n\n  const [tickets, setTickets] = React.useState([]);\n  const [filteredTickets, setFilteredTickets] = React.useState([]);\n  const [airlines, setAirlines] = React.useState([]);\n  const [filteredTicketsByAirline, setFilteredTicketsByAirline] = React.useState([]);\n  const [allCompanies, setAllCompanies] = React.useState(companies);\n\n  console.log(flights.result.flights)\n\n  const filterByAscendingPrice = () => {\n    setTickets((state) => [...state].sort((a, b) => { return a.flight.price.total.amount - b.flight.price.total.amount }))\n  }\n\n  const filterByDescendingPrice = () => {\n    setTickets((state) => [...state].sort((a, b) => { return b.flight.price.total.amount - a.flight.price.total.amount }))\n  }\n\n  const filterByTravelTime = () => {\n    setTickets((state) => [...state].sort((a, b) => { return a.flight.legs[0].duration - b.flight.legs[0].duration || a.flight.legs[1].duration - b.flight.legs[1].duration }))\n  }\n\n  const sortByOneDirection = () => {\n    const sortOneDirection = flights.result.flights.filter((ticket) => { return ticket.flight.legs[0].segments.length > 1 || ticket.flight.legs[1].segments.length > 1 })\n    setTickets(sortOneDirection)\n    setFilteredTickets(sortOneDirection)\n  }\n  const sortByDirect = () => {\n    const sortDirect = flights.result.flights.filter((ticket) => { return ticket.flight.legs[0].segments.length === 1 && ticket.flight.legs[1].segments.length === 1 })\n    setTickets(sortDirect)\n    setFilteredTickets(sortDirect)\n  }\n\n  const returnDate = () => {\n    if (filteredTicketsByAirline.length) {\n      return filteredTicketsByAirline\n    } else if (filteredTickets.length) {\n      return filteredTickets\n    } else {\n      return flights.result.flights\n    }\n  }\n\n  const returnDateAirline = () => {\n    if (filteredTickets.length) {\n      return filteredTickets\n    } else {\n      return flights.result.flights\n    }\n  }\n\n  const filterByPrice = (valueStart, valueEnd) => {\n    setTickets(returnDate().filter((ticket) => { return Number(valueStart) <= Number(ticket.flight.price.total.amount) && Number(ticket.flight.price.total.amount) <= Number(valueEnd) }))\n  }\n\n  const addAirline = (airline) => {\n    setAirlines((state) => [...state, airline])\n  }\n\n  const deleteAirline = (airline) => {\n    setAirlines((state) => [...state].filter((caption) => airline !== caption))\n  }\n\n\n  const sortByAirlines = () => {\n    if (airlines.length) {\n      const sortTickets = returnDateAirline().filter((ticket) => airlines.includes(ticket.flight.carrier.caption))\n      setTickets(sortTickets)\n      setFilteredTicketsByAirline(sortTickets)\n    } else {\n      setTickets(returnDateAirline())\n      setFilteredTickets([])\n    }\n  }\n\n  const handleAllCompanies = () => {\n      const foundCompanies = Array.from(new Set(returnDateAirline().map((el) => el.flight.carrier.caption)))\n      const activeCompanies = allCompanies.map((el) => {\n        if (!foundCompanies.includes(el.caption)) {\n          el.active = true;\n        } else {\n          el.active = false;\n        }\n        return el\n      })\n      setAllCompanies(activeCompanies)\n    \n  }\n\n  React.useEffect(() => {\n    setTickets(flights.result.flights)\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Main\n        tickets={tickets}\n        filterByAscendingPrice={filterByAscendingPrice}\n        filterByDescendingPrice={filterByDescendingPrice}\n        filterByTravelTime={filterByTravelTime}\n        sortByOneDirection={sortByOneDirection}\n        sortByDirect={sortByDirect}\n        filterByPrice={filterByPrice}\n        addAirline={addAirline}\n        deleteAirline={deleteAirline}\n        sortByAirlines={sortByAirlines}\n        airlines={airlines}\n        filteredTickets={filteredTickets}\n        allCompanies={allCompanies}\n        handleAllCompanies={handleAllCompanies} />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}